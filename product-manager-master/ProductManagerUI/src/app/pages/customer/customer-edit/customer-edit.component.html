<div class="d-sm-flex align-items-center justify-content-between mb-4">
  <h1 class="h3 mb-0 text-gray-800">{{!customerId? "New Customer" : "Update Customer"}}</h1>
</div>

<div class="alert alert-danger" role="alert" *ngIf="errors != null">
  Please fix this errors in order to complete your request.
  <div  role="alert" *ngFor="let item of this.errors">
    {{item.name}}:
    <div role="alert" class="ms-4" *ngFor="let err of item.errors">
      {{err}}
    </div>
  </div>
</div>

<form [formGroup]="customerForm" class="example-form">

  <mat-form-field class="example-full-width w-25">
    <mat-label>Customer First Name</mat-label>
    <input matInput formControlName="firstName" class="d-flex">
  </mat-form-field>
  <div *ngIf="customerForm.controls.firstName.invalid && (customerForm.controls.firstName.dirty || customerForm.controls.firstName.touched)"
       class="alert d-inline-block">
    <div *ngIf="customerForm.controls.firstName.errors?.required">
      First name is required.
    </div>
    <div *ngIf="customerForm.controls.firstName.errors?.minlength">
      First name must be at least {{ Customer.FirstNameMinLength  }} characters long.
    </div>
    <div *ngIf="customerForm.controls.firstName.errors?.maxlength">
      First name must be at most {{ Customer.FirstNameMaxLength  }} characters long.
    </div>
  </div>
  <br/>

  <mat-form-field class="example-full-width w-25">
    <mat-label>Customer Last Name</mat-label>
    <input matInput formControlName="lastName" class="d-flex">
  </mat-form-field>
  <div *ngIf="customerForm.controls.lastName.invalid && (customerForm.controls.lastName.dirty || customerForm.controls.lastName.touched)"
       class="alert d-inline-block">
    <div *ngIf="customerForm.controls.lastName.errors?.required">
      Last Name is required.
    </div>
    <div *ngIf="customerForm.controls.lastName.errors?.minlength">
      Last Name must be at least {{ Customer.LastNameMinLength  }} characters long.
    </div>
    <div *ngIf="customerForm.controls.lastName.errors?.maxlength">
      Last Name must be at most {{ Customer.LastNameMaxLength  }} characters long.
    </div>
  </div>
  <br/>

  <mat-form-field class="example-full-width w-25">
    <mat-label>Customer Email</mat-label>
    <input matInput formControlName="email" type="email" class="d-flex">
  </mat-form-field>
  <div *ngIf="customerForm.controls.email.invalid && (customerForm.controls.email.dirty || customerForm.controls.email.touched)"
       class="alert d-inline-block">
    <div *ngIf="customerForm.controls.email.errors?.required">
      Email is required.
    </div>
    <div *ngIf="customerForm.controls.email.errors?.minlength">
      Email must be at least {{ Customer.EmailMinLength  }} characters long.
    </div>
    <div *ngIf="customerForm.controls.email.errors?.maxlength">
      Email must be at most {{ Customer.EmailMaxLength  }} characters long.
    </div>
  </div>
  <br/>

  <mat-form-field class="example-full-width w-25">
    <mat-label>Customer Phone</mat-label>
    <input matInput formControlName="phone" class="d-flex">
  </mat-form-field>
  <div *ngIf="customerForm.controls.phone.invalid && (customerForm.controls.phone.dirty || customerForm.controls.phone.touched)"
       class="alert d-inline-block">
    <div *ngIf="customerForm.controls.phone.errors?.required">
      Phone is required.
    </div>
    <div *ngIf="customerForm.controls.phone.errors?.minlength">
      Phone must be at least {{ Customer.EmailMinLength  }} characters long.
    </div>
    <div *ngIf="customerForm.controls.phone.errors?.maxlength">
      Phone must be at most {{ Customer.EmailMaxLength  }} characters long.
    </div>
  </div>
  <br/>

  <mat-form-field class="example-full-width w-25">
    <mat-label>Customer Address</mat-label>
    <textarea matInput formControlName="address" class="d-flex"> </textarea>
  </mat-form-field>
  <div *ngIf="customerForm.controls.address.invalid && (customerForm.controls.address.dirty || customerForm.controls.address.touched)"
       class="alert d-inline-block">
    <div *ngIf="customerForm.controls.address.errors?.required">
      Address is required.
    </div>
    <div *ngIf="customerForm.controls.address.errors?.minlength">
      Address must be at least {{ Customer.AddressMinLength  }} characters long.
    </div>
    <div *ngIf="customerForm.controls.address.errors?.maxlength">
      Address must be at most {{ Customer.AddressMaxLength  }} characters long.
    </div>
  </div>
  <br/>

  <button [disabled]="!customerForm.valid" type="submit" class="mt-3 align-self-end d-flex" mat-raised-button
          color="primary" (click)="save()">Save
  </button>

</form>
